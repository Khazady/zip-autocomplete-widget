import{r as u,j as h,a as oe,R as jt,d as Z}from"./index-Bu724zS2.js";const ae=t=>u.createElement("svg",{width:24,height:24,viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},u.createElement("path",{d:"M21 8H3",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M17.5 13a4.5 4.5 0 1 1 0 9 4.5 4.5 0 0 1 0-9",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M14.67 21H6a3 3 0 0 1-3-3V6a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v8.67",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M17.4 15.98v1.76l1.38.85",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M13.75 11.45a.05.05 0 1 0 0 .1.05.05 0 0 0 0-.1",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M10.25 11.45a.1.1 0 0 0-.05.05.05.05 0 1 0 .05-.05",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M6.75 11.45a.1.1 0 0 0-.05.05.05.05 0 1 0 .05-.05",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M10.25 14.45a.1.1 0 0 0-.05.05.05.05 0 1 0 .05-.05",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M6.75 14.45a.1.1 0 0 0-.05.05.05.05 0 1 0 .05-.05",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M10.25 17.45q-.02 0-.04.02l-.01.03a.05.05 0 1 0 .05-.05",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"M6.75 17.45a.1.1 0 0 0-.05.05.05.05 0 1 0 .05-.05",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),ce=t=>u.createElement("svg",{width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t},u.createElement("path",{d:"m4.45 4.45 7.07 7.07",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round"}),u.createElement("path",{d:"m11.52 4.45-7.07 7.07",stroke:"currentColor",strokeWidth:1.25,strokeLinecap:"round",strokeLinejoin:"round"})),ue="_floatingWidget_nb6br_1",le="_floatingWidgetDismissing_nb6br_6",de="_widgetPosition_nb6br_11",fe="_widgetShell_nb6br_17",ge="_widgetLauncher_nb6br_22",pe="_widgetLauncherHidden_nb6br_45",he="_widgetPanel_nb6br_51",we="_widgetPanelOpen_nb6br_70",me="_widgetClose_nb6br_76",Ee="_widgetHeader_nb6br_86",_e="_widgetInputRow_nb6br_92",be="_widgetInputWrapper_nb6br_98",Re="_widgetInput_nb6br_92",Se="_inputSpinner_nb6br_119",ve="_widgetError_nb6br_130",Le="_widgetErrorVisible_nb6br_141",Ce="_widgetButton_nb6br_145",ye="_widgetResults_nb6br_155",Oe="_widgetResultsVisible_nb6br_173",ke="_widgetList_nb6br_197",je="_widgetItemButton_nb6br_206",xe="_widgetEmpty_nb6br_219",_={floatingWidget:ue,floatingWidgetDismissing:le,widgetPosition:de,widgetShell:fe,widgetLauncher:ge,widgetLauncherHidden:pe,widgetPanel:he,widgetPanelOpen:we,widgetClose:me,widgetHeader:Ee,widgetInputRow:_e,widgetInputWrapper:be,widgetInput:Re,inputSpinner:Se,widgetError:ve,widgetErrorVisible:Le,widgetButton:Ce,widgetResults:ye,widgetResultsVisible:Oe,widgetList:ke,widgetItemButton:je,widgetEmpty:xe},De="_spinner_1l9n9_1",Ie={spinner:De},et=(...t)=>t.filter(Boolean).join(" "),Te=({className:t})=>h.jsx("span",{className:et(Ie.spinner,t)}),We="/zip-autocomplete-widget/mocked-data.json",Ne=async()=>{await new Promise(e=>{setTimeout(e,1e3)});const t=await fetch(We);if(!t.ok)throw new Error("Failed to fetch zip data");return await t.json()},Ve=t=>t.trim().toLowerCase(),Ae=(t,e)=>{const n=Ve(e);return n?t.filter(i=>{const s=i.zip.startsWith(n),a=i.city.toLowerCase().includes(n);return s||a}).slice(0,6).map((i,s)=>({...i,id:`${i.zip}-${i.city}-${s}`,label:i.hideCityName?i.zip:`${i.zip} ${i.city}`})):[]};var gt={exports:{}},pt={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qt;function Pe(){if(qt)return pt;qt=1;var t=oe();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var n=typeof Object.is=="function"?Object.is:e,r=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function g(c,d){var f=d(),L=r({inst:{value:f,getSnapshot:d}}),p=L[0].inst,N=L[1];return s(function(){p.value=f,p.getSnapshot=d,w(p)&&N({inst:p})},[c,f,d]),i(function(){return w(p)&&N({inst:p}),c(function(){w(p)&&N({inst:p})})},[c]),a(f),f}function w(c){var d=c.getSnapshot;c=c.value;try{var f=d();return!n(c,f)}catch{return!0}}function v(c,d){return d()}var R=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?v:g;return pt.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:R,pt}var Ht;function Me(){return Ht||(Ht=1,gt.exports=Pe()),gt.exports}var Fe=Me();const Gt=0,Jt=1,Kt=2,Ut=3;var Bt=Object.prototype.hasOwnProperty;function Rt(t,e){var n,r;if(t===e)return!0;if(t&&e&&(n=t.constructor)===e.constructor){if(n===Date)return t.getTime()===e.getTime();if(n===RegExp)return t.toString()===e.toString();if(n===Array){if((r=t.length)===e.length)for(;r--&&Rt(t[r],e[r]););return r===-1}if(!n||typeof t=="object"){r=0;for(n in t)if(Bt.call(t,n)&&++r&&!Bt.call(e,n)||!(n in e)||!Rt(t[n],e[n]))return!1;return Object.keys(e).length===r}}return t!==t&&e!==e}const F=new WeakMap,H=()=>{},j=H(),St=Object,l=t=>t===j,A=t=>typeof t=="function",U=(t,e)=>({...t,...e}),Qt=t=>A(t.then),ht={},ct={},xt="undefined",st=typeof window!=xt,vt=typeof document!=xt,qe=st&&"Deno"in window,He=()=>st&&typeof window.requestAnimationFrame!=xt,Yt=(t,e)=>{const n=F.get(t);return[()=>!l(e)&&t.get(e)||ht,r=>{if(!l(e)){const i=t.get(e);e in ct||(ct[e]=i),n[5](e,U(i,r),i||ht)}},n[6],()=>!l(e)&&e in ct?ct[e]:!l(e)&&t.get(e)||ht]};let Lt=!0;const Ue=()=>Lt,[Ct,yt]=st&&window.addEventListener?[window.addEventListener.bind(window),window.removeEventListener.bind(window)]:[H,H],Be=()=>{const t=vt&&document.visibilityState;return l(t)||t!=="hidden"},$e=t=>(vt&&document.addEventListener("visibilitychange",t),Ct("focus",t),()=>{vt&&document.removeEventListener("visibilitychange",t),yt("focus",t)}),ze=t=>{const e=()=>{Lt=!0,t()},n=()=>{Lt=!1};return Ct("online",e),Ct("offline",n),()=>{yt("online",e),yt("offline",n)}},Ze={isOnline:Ue,isVisible:Be},Ge={initFocus:$e,initReconnect:ze},$t=!jt.useId,rt=!st||qe,Je=t=>He()?window.requestAnimationFrame(t):setTimeout(t,1),wt=rt?u.useEffect:u.useLayoutEffect,mt=typeof navigator<"u"&&navigator.connection,zt=!rt&&mt&&(["slow-2g","2g"].includes(mt.effectiveType)||mt.saveData),ut=new WeakMap,Et=(t,e)=>St.prototype.toString.call(t)===`[object ${e}]`;let Ke=0;const Ot=t=>{const e=typeof t,n=Et(t,"Date"),r=Et(t,"RegExp"),i=Et(t,"Object");let s,a;if(St(t)===t&&!n&&!r){if(s=ut.get(t),s)return s;if(s=++Ke+"~",ut.set(t,s),Array.isArray(t)){for(s="@",a=0;a<t.length;a++)s+=Ot(t[a])+",";ut.set(t,s)}if(i){s="#";const g=St.keys(t).sort();for(;!l(a=g.pop());)l(t[a])||(s+=a+":"+Ot(t[a])+",");ut.set(t,s)}}else s=n?t.toJSON():e=="symbol"?t.toString():e=="string"?JSON.stringify(t):""+t;return s},Dt=t=>{if(A(t))try{t=t()}catch{t=""}const e=t;return t=typeof t=="string"?t:(Array.isArray(t)?t.length:t)?Ot(t):"",[t,e]};let Qe=0;const kt=()=>++Qe;async function Xt(...t){const[e,n,r,i]=t,s=U({populateCache:!0,throwOnError:!0},typeof i=="boolean"?{revalidate:i}:i||{});let a=s.populateCache;const g=s.rollbackOnError;let w=s.optimisticData;const v=d=>typeof g=="function"?g(d):g!==!1,R=s.throwOnError;if(A(n)){const d=n,f=[],L=e.keys();for(const p of L)!/^\$(inf|sub)\$/.test(p)&&d(e.get(p)._k)&&f.push(p);return Promise.all(f.map(c))}return c(n);async function c(d){const[f]=Dt(d);if(!f)return;const[L,p]=Yt(e,f),[N,o,B,I]=F.get(e),q=()=>{const T=N[f];return(A(s.revalidate)?s.revalidate(L().data,d):s.revalidate!==!1)&&(delete B[f],delete I[f],T&&T[0])?T[0](Kt).then(()=>L().data):L().data};if(t.length<3)return q();let y=r,x;const G=kt();o[f]=[G,0];const b=!l(w),J=L(),V=J.data,K=J._c,$=l(K)?V:K;if(b&&(w=A(w)?w($,V):w,p({data:w,_c:$})),A(y))try{y=y($)}catch(T){x=T}if(y&&Qt(y))if(y=await y.catch(T=>{x=T}),G!==o[f][0]){if(x)throw x;return y}else x&&b&&v(x)&&(a=!0,p({data:$,_c:j}));if(a&&!x)if(A(a)){const T=a(y,$);p({data:T,error:j,_c:j})}else p({data:y,error:j,_c:j});if(o[f][1]=kt(),Promise.resolve(q()).then(()=>{p({_c:j})}),x){if(R)throw x;return}return y}}const Zt=(t,e)=>{for(const n in t)t[n][0]&&t[n][0](e)},Ye=(t,e)=>{if(!F.has(t)){const n=U(Ge,e),r=Object.create(null),i=Xt.bind(j,t);let s=H;const a=Object.create(null),g=(R,c)=>{const d=a[R]||[];return a[R]=d,d.push(c),()=>d.splice(d.indexOf(c),1)},w=(R,c,d)=>{t.set(R,c);const f=a[R];if(f)for(const L of f)L(c,d)},v=()=>{if(!F.has(t)&&(F.set(t,[r,Object.create(null),Object.create(null),Object.create(null),i,w,g]),!rt)){const R=n.initFocus(setTimeout.bind(j,Zt.bind(j,r,Gt))),c=n.initReconnect(setTimeout.bind(j,Zt.bind(j,r,Jt)));s=()=>{R&&R(),c&&c(),F.delete(t)}}};return v(),[t,i,v,s]}return[t,F.get(t)[4]]},Xe=(t,e,n,r,i)=>{const s=n.errorRetryCount,a=i.retryCount,g=~~((Math.random()+.5)*(1<<(a<8?a:8)))*n.errorRetryInterval;!l(s)&&a>s||setTimeout(r,g,i)},tn=Rt,[te,en]=Ye(new Map),nn=U({onLoadingSlow:H,onSuccess:H,onError:H,onErrorRetry:Xe,onDiscarded:H,revalidateOnFocus:!0,revalidateOnReconnect:!0,revalidateIfStale:!0,shouldRetryOnError:!0,errorRetryInterval:zt?1e4:5e3,focusThrottleInterval:5*1e3,dedupingInterval:2*1e3,loadingTimeout:zt?5e3:3e3,compare:tn,isPaused:()=>!1,cache:te,mutate:en,fallback:{}},Ze),rn=(t,e)=>{const n=U(t,e);if(e){const{use:r,fallback:i}=t,{use:s,fallback:a}=e;r&&s&&(n.use=r.concat(s)),i&&a&&(n.fallback=U(i,a))}return n},sn=u.createContext({}),on="$inf$",ee=st&&window.__SWR_DEVTOOLS_USE__,an=ee?window.__SWR_DEVTOOLS_USE__:[],cn=()=>{ee&&(window.__SWR_DEVTOOLS_REACT__=jt)},un=t=>A(t[1])?[t[0],t[1],t[2]||{}]:[t[0],null,(t[1]===null?t[2]:t[1])||{}],ln=()=>U(nn,u.useContext(sn)),dn=t=>(e,n,r)=>t(e,n&&((...s)=>{const[a]=Dt(e),[,,,g]=F.get(te);if(a.startsWith(on))return n(...s);const w=g[a];return l(w)?n(...s):(delete g[a],w)}),r),fn=an.concat(dn),gn=t=>function(...n){const r=ln(),[i,s,a]=un(n),g=rn(r,a);let w=t;const{use:v}=g,R=(v||[]).concat(fn);for(let c=R.length;c--;)w=R[c](w);return w(i,s||g.fetcher||null,g)},pn=(t,e,n)=>{const r=e[t]||(e[t]=[]);return r.push(n),()=>{const i=r.indexOf(n);i>=0&&(r[i]=r[r.length-1],r.pop())}};cn();const _t=jt.use||(t=>{switch(t.status){case"pending":throw t;case"fulfilled":return t.value;case"rejected":throw t.reason;default:throw t.status="pending",t.then(e=>{t.status="fulfilled",t.value=e},e=>{t.status="rejected",t.reason=e}),t}}),bt={dedupe:!0},hn=(t,e,n)=>{const{cache:r,compare:i,suspense:s,fallbackData:a,revalidateOnMount:g,revalidateIfStale:w,refreshInterval:v,refreshWhenHidden:R,refreshWhenOffline:c,keepPreviousData:d}=n,[f,L,p,N]=F.get(r),[o,B]=Dt(t),I=u.useRef(!1),q=u.useRef(!1),y=u.useRef(o),x=u.useRef(e),G=u.useRef(n),b=()=>G.current,J=()=>b().isVisible()&&b().isOnline(),[V,K,$,T]=Yt(r,o),Q=u.useRef({}).current,it=l(a)?l(n.fallback)?j:n.fallback[o]:a,It=(E,m)=>{for(const O in Q){const S=O;if(S==="data"){if(!i(E[S],m[S])&&(!l(E[S])||!i(at,m[S])))return!1}else if(m[S]!==E[S])return!1}return!0},Tt=u.useMemo(()=>{const E=!o||!e?!1:l(g)?b().isPaused()||s?!1:w!==!1:g,m=k=>{const P=U(k);return delete P._k,E?{isValidating:!0,isLoading:!0,...P}:P},O=V(),S=T(),W=m(O),tt=O===S?W:m(S);let C=W;return[()=>{const k=m(V());return It(k,C)?(C.data=k.data,C.isLoading=k.isLoading,C.isValidating=k.isValidating,C.error=k.error,C):(C=k,k)},()=>tt]},[r,o]),Y=Fe.useSyncExternalStore(u.useCallback(E=>$(o,(m,O)=>{It(O,m)||E()}),[r,o]),Tt[0],Tt[1]),Wt=!I.current,ne=f[o]&&f[o].length>0,X=Y.data,z=l(X)?it&&Qt(it)?_t(it):it:X,ot=Y.error,lt=u.useRef(z),at=d?l(X)?l(lt.current)?z:lt.current:X:z,Nt=ne&&!l(ot)?!1:Wt&&!l(g)?g:b().isPaused()?!1:s?l(z)?!1:w:l(z)||w,Vt=!!(o&&e&&Wt&&Nt),re=l(Y.isValidating)?Vt:Y.isValidating,se=l(Y.isLoading)?Vt:Y.isLoading,nt=u.useCallback(async E=>{const m=x.current;if(!o||!m||q.current||b().isPaused())return!1;let O,S,W=!0;const tt=E||{},C=!p[o]||!tt.dedupe,k=()=>$t?!q.current&&o===y.current&&I.current:o===y.current,P={isValidating:!1,isLoading:!1},Pt=()=>{K(P)},Mt=()=>{const D=p[o];D&&D[1]===S&&delete p[o]},Ft={isValidating:!0};l(V().data)&&(Ft.isLoading=!0);try{if(C&&(K(Ft),n.loadingTimeout&&l(V().data)&&setTimeout(()=>{W&&k()&&b().onLoadingSlow(o,n)},n.loadingTimeout),p[o]=[m(B),kt()]),[O,S]=p[o],O=await O,C&&setTimeout(Mt,n.dedupingInterval),!p[o]||p[o][1]!==S)return C&&k()&&b().onDiscarded(o),!1;P.error=j;const D=L[o];if(!l(D)&&(S<=D[0]||S<=D[1]||D[1]===0))return Pt(),C&&k()&&b().onDiscarded(o),!1;const M=V().data;P.data=i(M,O)?M:O,C&&k()&&b().onSuccess(O,o,n)}catch(D){Mt();const M=b(),{shouldRetryOnError:dt}=M;M.isPaused()||(P.error=D,C&&k()&&(M.onError(D,o,M),(dt===!0||A(dt)&&dt(D))&&(!b().revalidateOnFocus||!b().revalidateOnReconnect||J())&&M.onErrorRetry(D,o,M,ie=>{const ft=f[o];ft&&ft[0]&&ft[0](Ut,ie)},{retryCount:(tt.retryCount||0)+1,dedupe:!0})))}return W=!1,Pt(),!0},[o,r]),At=u.useCallback((...E)=>Xt(r,y.current,...E),[]);if(wt(()=>{x.current=e,G.current=n,l(X)||(lt.current=X)}),wt(()=>{if(!o)return;const E=nt.bind(j,bt);let m=0;b().revalidateOnFocus&&(m=Date.now()+b().focusThrottleInterval);const S=pn(o,f,(W,tt={})=>{if(W==Gt){const C=Date.now();b().revalidateOnFocus&&C>m&&J()&&(m=C+b().focusThrottleInterval,E())}else if(W==Jt)b().revalidateOnReconnect&&J()&&E();else{if(W==Kt)return nt();if(W==Ut)return nt(tt)}});return q.current=!1,y.current=o,I.current=!0,K({_k:B}),Nt&&(l(z)||rt?E():Je(E)),()=>{q.current=!0,S()}},[o]),wt(()=>{let E;function m(){const S=A(v)?v(V().data):v;S&&E!==-1&&(E=setTimeout(O,S))}function O(){!V().error&&(R||b().isVisible())&&(c||b().isOnline())?nt(bt).then(m):m()}return m(),()=>{E&&(clearTimeout(E),E=-1)}},[v,R,c,o]),u.useDebugValue(at),s&&l(z)&&o){if(!$t&&rt)throw new Error("Fallback data is required when using Suspense in SSR.");x.current=e,G.current=n,q.current=!1;const E=N[o];if(!l(E)){const m=At(E);_t(m)}if(l(ot)){const m=nt(bt);l(at)||(m.status="fulfilled",m.value=!0),_t(m)}else throw ot}return{mutate:At,get data(){return Q.data=!0,at},get error(){return Q.error=!0,ot},get isValidating(){return Q.isValidating=!0,re},get isLoading(){return Q.isLoading=!0,se}}},wn=gn(hn),mn=(t,e)=>{const{data:n=[],isLoading:r,error:i}=wn(t?"zip-data":null,Ne);return{results:Ae(n,e),isLoading:r,error:i}},bn=({onSelect:t,isDismissing:e})=>{const[n,r]=u.useState(!1),[i,s]=u.useState(""),[a,g]=u.useState(!1),w=u.useRef(null),{results:v,isLoading:R,error:c}=mn(n,i),d=()=>{r(!1),s(""),g(!1)},f=()=>{if(!i.trim()){g(!0);return}g(!1)},L=i.trim().length>0,p=L&&R,N=L&&!!c,o=L&&!R&&!c&&v.length===0,B=o||N||v.length>0;return u.useEffect(()=>{n&&w.current?.focus()},[n]),h.jsx("div",{className:et(_.floatingWidget,_.widgetPosition,e&&_.floatingWidgetDismissing),children:h.jsxs("div",{className:_.widgetShell,children:[h.jsxs("button",{className:et(_.widgetLauncher,n&&_.widgetLauncherHidden),onClick:()=>r(!0),children:[h.jsx("span",{children:Z.widget.launcher}),h.jsx(ae,{width:24,height:24})]}),h.jsxs("div",{className:et(_.widgetPanel,n&&_.widgetPanelOpen),children:[h.jsx("button",{className:_.widgetClose,onClick:d,children:h.jsx(ce,{width:16,height:16})}),h.jsx("span",{className:_.widgetHeader,children:Z.widget.header}),h.jsxs("div",{className:_.widgetInputRow,children:[h.jsxs("div",{className:_.widgetInputWrapper,children:[h.jsx("input",{ref:w,className:_.widgetInput,placeholder:Z.widget.placeholder,value:i,onChange:I=>{s(I.target.value),a&&g(!1)}}),p&&h.jsx(Te,{className:_.inputSpinner}),h.jsx("p",{className:et(_.widgetError,a&&_.widgetErrorVisible),children:Z.widget.emptyFieldError}),h.jsx("div",{className:et(_.widgetResults,B&&_.widgetResultsVisible),children:B&&h.jsxs(h.Fragment,{children:[o&&h.jsx("div",{className:_.widgetEmpty,children:h.jsx("p",{children:Z.widget.empty})}),N&&h.jsx("div",{className:_.widgetEmpty,children:h.jsx("p",{children:Z.widget.error})}),v.length>0&&h.jsx("ul",{className:_.widgetList,children:v.map(I=>h.jsx("li",{children:h.jsx("button",{onClick:()=>t(I.zip),className:_.widgetItemButton,children:h.jsx("span",{children:I.label})})},I.id))})]})})]}),h.jsx("button",{className:_.widgetButton,onClick:f,children:Z.widget.buttonLabel})]})]})]})})};export{bn as default};
